<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ - IT –∫–æ–º–ø–∞–Ω–∏—è</title>
    {% load static %}
    <style>
        /* ========================================
           –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ô –î–õ–Ø –°–¢–£–î–ï–ù–¢–ö–ò:
           –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
           ======================================== */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid #007bff;
        }
        
        header img {
            width: 100px;
            margin-bottom: 10px;
        }
        
        h1 {
            color: #333;
            margin: 10px 0;
        }
        
        /* –ö3: –°—Ç–∏–ª—å –¥–ª—è –±–ª–æ–∫–∞ —Å –æ–±—â–∏–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º */
        .total-count {
            background: #007bff;
            color: white;
            padding: 20px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 30px;
            font-size: 24px;
            font-weight: bold;
        }
        
        /* –ö4, –ö2: –°—Ç–∏–ª–∏ –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ */
        .employees-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .employee-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            background: #fff;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .employee-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .employee-photo {
            width: 100%;
            height: 200px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
            background: #e0e0e0;
        }
        
        .employee-name {
            font-size: 18px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        
        .employee-info {
            font-size: 14px;
            color: #666;
            margin: 5px 0;
        }
        
        .employee-skills {
            background: #28a745;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            display: inline-block;
            margin-top: 10px;
            font-size: 12px;
        }
        
        .no-photo {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            margin-bottom: 15px;
        }
        
        .nav-links {
            text-align: center;
            margin-top: 30px;
        }
        
        .nav-links a {
            display: inline-block;
            padding: 12px 30px;
            background: #007bff;
            color: white;
            text-decoration: none;
            border-radius: 5px;
            margin: 0 10px;
            transition: background 0.3s;
        }
        
        .nav-links a:hover {
            background: #0056b3;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- ========================================
             –®–ê–ü–ö–ê –°–ê–ô–¢–ê
             ======================================== -->
        <header>
            <img src="{% static 'img/1.jpeg' %}" alt="–õ–æ–≥–æ—Ç–∏–ø –∫–æ–º–ø–∞–Ω–∏–∏" />
            <h1>IT –ö–æ–º–ø–∞–Ω–∏—è - –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h1>
        </header>

        <!-- ========================================
             –ö3: –û–ë–©–ï–ï –ö–û–õ–ò–ß–ï–°–¢–í–û –°–û–¢–†–£–î–ù–ò–ö–û–í
             –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ô: –≠—Ç–æ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –ö3
             ======================================== -->
        <div class="total-count">
            üìä –í—Å–µ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤ –≤ –∫–æ–º–ø–∞–Ω–∏–∏: {{ total_employees }}
        </div>

        <!-- ========================================
             –ö4: 4 –ü–û–°–õ–ï–î–ù–ò–• –ù–ê–ù–Ø–¢–´–• –°–û–¢–†–£–î–ù–ò–ö–ê
             –ö2: –° –ø–æ–ª–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –≤ –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
             ======================================== -->
        <h2>üÜï –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç—ã–µ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏</h2>
        
        {% if recent_employees %}
        <div class="employees-grid">
            <!-- –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ô –î–õ–Ø –°–¢–£–î–ï–ù–¢–ö–ò:
                 –¶–∏–∫–ª for –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ 4 –ø–æ—Å–ª–µ–¥–Ω–∏–º —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞–º
                 –ö–∞–∂–¥—ã–π –æ–±—ä–µ–∫—Ç employee - —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –æ–±—ä–µ–∫—Ç –º–æ–¥–µ–ª–∏ Person
                 –ú–æ–∂–Ω–æ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫–æ –≤—Å–µ–º –µ–≥–æ –ø–æ–ª—è–º –∏ –º–µ—Ç–æ–¥–∞–º -->
            {% for employee in recent_employees %}
            <div class="employee-card">
                <!-- –ö2: –ü–µ—Ä–≤–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–∞–ª–µ—Ä–µ–∏ -->
                {% if employee.gallery %}
                    <img src="{{ employee.gallery.url }}" alt="{{ employee.name }}" class="employee-photo" />
                {% else %}
                    <div class="no-photo">üë§</div>
                {% endif %}
                
                <!-- –ö2: –ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è -->
                <div class="employee-name">
                    {{ employee.name|default:"–ò–º—è –Ω–µ —É–∫–∞–∑–∞–Ω–æ" }}
                </div>
                
                <!-- –ö2: –ù–∞–≤—ã–∫–∏ -->
                <div class="employee-info">
                    <strong>–ù–∞–≤—ã–∫–∏:</strong> 
                    <span class="employee-skills">
                        {{ employee.get_skills_display|default:"–ù–µ —É–∫–∞–∑–∞–Ω—ã" }}
                    </span>
                </div>
                
                <!-- –ö2: –£—Ä–æ–≤–µ–Ω—å –Ω–∞–≤—ã–∫–æ–≤ -->
                <div class="employee-info">
                    <strong>–£—Ä–æ–≤–µ–Ω—å:</strong> {{ employee.skill_level|default:"‚Äî" }}/10
                </div>
                
                <!-- –ö2: –°—Ç–∞–∂ —Ä–∞–±–æ—Ç—ã –≤ –¥–Ω—è—Ö -->
                <div class="employee-info">
                    <strong>–°—Ç–∞–∂:</strong> 
                    {% if employee.employment_date %}
                        {{ employee.get_work_experience_days }} –¥–Ω–µ–π
                    {% else %}
                        –ù–µ —É–∫–∞–∑–∞–Ω
                    {% endif %}
                </div>
                
                <!-- –ö2: –î–∞—Ç–∞ –ø—Ä–∏—ë–º–∞ -->
                <div class="employee-info">
                    <strong>–î–∞—Ç–∞ –ø—Ä–∏—ë–º–∞:</strong> 
                    {{ employee.employment_date|date:"d.m.Y"|default:"–ù–µ —É–∫–∞–∑–∞–Ω–∞" }}
                </div>
            </div>
            {% endfor %}
        </div>
        {% else %}
        <p>–í –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –ø–æ–∫–∞ –Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤.</p>
        {% endif %}

        <!-- ========================================
             –ù–ê–í–ò–ì–ê–¶–ò–Ø
             ======================================== -->
        <div class="nav-links">
            <a href="{% url 'workers:list' %}">üìã –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ—Ö —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤</a>
        </div>
    </div>
</body>
</html>